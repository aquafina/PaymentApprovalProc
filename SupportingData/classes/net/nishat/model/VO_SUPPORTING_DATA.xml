<?xml version="1.0" encoding="windows-1252" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="VO_SUPPORTING_DATA"
  Version="11.1.1.64.93"
  InheritPersonalization="true"
  BindingStyle="OracleName"
  CustomQuery="true"
  PageIterMode="Full"
  UseGlueCode="false">
  <DesignTime>
    <Attr Name="_isExpertMode" Value="true"/>
  </DesignTime>
  <Properties>
    <SchemaBasedProperties>
      <LABEL
        ResId="net.nishat.model.VO_SUPPORTING_DATA_LABEL"/>
    </SchemaBasedProperties>
  </Properties>
  <Variable
    Name="check_id"
    Kind="where"
    Type="oracle.jbo.domain.Number"/>
  <SQLQuery>
    <![CDATA[select distinct -- 13 po 21 rec 22 rt
    aca.check_id,
    pha.po_header_id,
    pha.segment1 po_number,
    pla.unit_price po_rate,
   rsh.receipt_num,
   aila.rcv_transaction_id,
   NVL((select quantity from rcv_transactions tt where tt.parent_transaction_id = aila.rcv_transaction_id and tt.transaction_type= 'DELIVER' and tt.shipment_header_id = rsh.shipment_header_id ),RT.QUANTITY) quantity_accepted
   ,(pla.unit_price)*(NVL((select quantity from rcv_transactions tt where tt.parent_transaction_id = aila.rcv_transaction_id and tt.transaction_type= 'DELIVER' and tt.shipment_header_id = rsh.shipment_header_id ),RT.QUANTITY)) TOTAL_BEFORE_MATCHING,
   Aila.amount total_as_per_suplier
   ,((pla.unit_price)*(NVL((select quantity from rcv_transactions tt where tt.parent_transaction_id = aila.rcv_transaction_id and tt.transaction_type= 'DELIVER' and tt.shipment_header_id = rsh.shipment_header_id ),RT.QUANTITY))-aila.amount) varience,
'232323' ledger_balance
from 
    ap_checks_all aca
    ,ap_invoice_payments_all apa
    ,ap_invoice_lines_all aila
    ,po_headers_all pha
    ,po_lines_all pla
    ,rcv_transactions rt
    ,rcv_shipment_headers rsh
where 
    aca.check_id = apa.check_id
    and apa.invoice_id = aila.invoice_id
    --for po number
    and aila.po_header_id = pha.po_header_id(+)
    --for po rate from po lines
    --and pha.po_header_id = pla.po_header_id(+)
    and aila.po_line_id = pla.po_line_id (+)
    --for grn data
    and aila.rcv_transaction_id = rt.transaction_id(+) 
    and rt.shipment_header_id = rsh.shipment_header_id(+)
    --and rt.po_line_id = pla.po_line_id
    --extended filters
    and aca.status_lookup_code <> 'VOIDED' -- EXCLUDE VOIDED PAYMENTS
    and aila.line_type_lookUp_code = 'ITEM' -- INVOICE LINES MADE FROM SOME PO
    and aca.check_id = :check_id
   order by pha.segment1 desc]]>
  </SQLQuery>
  <ViewAttribute
    Name="CheckId"
    IsUpdateable="false"
    IsPersistent="false"
    IsNotNull="true"
    PrecisionRule="true"
    Precision="15"
    Scale="0"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="CHECK_ID"
    Expression="CHECK_ID"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="16"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="PoHeaderId"
    IsUpdateable="false"
    IsPersistent="false"
    IsNotNull="true"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="PO_HEADER_ID"
    Expression="PO_HEADER_ID"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="PoNumber"
    IsUpdateable="false"
    IsPersistent="false"
    IsNotNull="true"
    PrecisionRule="true"
    Precision="20"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="PO_NUMBER"
    Expression="PO_NUMBER"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="20"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="PoRate"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="PO_RATE"
    Expression="PO_RATE"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="ReceiptNum"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="30"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="RECEIPT_NUM"
    Expression="RECEIPT_NUM"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="30"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="RcvTransactionId"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="RCV_TRANSACTION_ID"
    Expression="RCV_TRANSACTION_ID"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="QuantityAccepted"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="QUANTITY_ACCEPTED"
    Expression="QUANTITY_ACCEPTED"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="TotalBeforeMatching"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="TOTAL_BEFORE_MATCHING"
    Expression="TOTAL_BEFORE_MATCHING"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="TotalAsPerSuplier"
    IsUpdateable="false"
    IsPersistent="false"
    IsNotNull="true"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="TOTAL_AS_PER_SUPLIER"
    Expression="TOTAL_AS_PER_SUPLIER"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="Varience"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="oracle.jbo.domain.Number"
    ColumnType="NUMBER"
    AliasName="VARIENCE"
    Expression="VARIENCE"
    SQLType="NUMERIC">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="39"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="LedgerBalance"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="6"
    Type="java.lang.String"
    ColumnType="CHAR"
    AliasName="LEDGER_BALANCE"
    Expression="LEDGER_BALANCE"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="6"/>
    </DesignTime>
  </ViewAttribute>
  <ResourceBundle>
    <PropertiesBundle
      PropertiesFile="net.nishat.model.SupportingDataBundle"/>
  </ResourceBundle>
</ViewObject>
